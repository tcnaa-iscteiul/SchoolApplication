{"ast":null,"code":"import { AxiosError } from 'axios';\nimport { Service } from '../services/Service';\nimport { classesActions } from './classes-slice';\nexport const fetchClassData = () => async dispatch => {\n  const fetchData = async () => {\n    const response = await Service.getAllClasses();\n\n    if (!response) {\n      throw new Error('Could not fetch classes!');\n    }\n\n    return response;\n  };\n\n  try {\n    const classData = await fetchData();\n    /* const transformedData:IClass[] = classData.data.map((item)=>{return {id:item.id, name:item.name, description:item.description, startDate:item.startDate, \n      endDate: item.endDate,\n      students:item.students,\n    teacher:item.teacher}});*/\n\n    dispatch(classesActions.replaceClasses(classData.data || []));\n  } catch (error) {\n    if (error instanceof AxiosError) {\n      var _error$response;\n\n      if ((_error$response = error.response) !== null && _error$response !== void 0 && _error$response.data) {\n        throw new Error(error.response.data.message);\n      } else {\n        throw new Error(error.message);\n      }\n    }\n  }\n};","map":{"version":3,"names":["AxiosError","Service","classesActions","fetchClassData","dispatch","fetchData","response","getAllClasses","Error","classData","replaceClasses","data","error","message"],"sources":["C:/Users/Utilizador/OneDrive/Ambiente de Trabalho/SchoolApplication/frontend/src/store/classesActions.ts"],"sourcesContent":["import { AxiosError, AxiosResponse } from 'axios';\nimport { AppDispatch } from '.';\nimport { IClass } from '../interfaces/IClass';\nimport { Service } from '../services/Service';\nimport { classesActions } from './classes-slice';\n\nexport const fetchClassData = () => async (dispatch: AppDispatch) => {\n  const fetchData = async (): Promise<AxiosResponse<IClass[]>> => {\n    const response = await Service.getAllClasses();\n    if (!response) {\n      throw new Error('Could not fetch classes!');\n    }\n    return response;\n  };\n  try {\n    const classData = await fetchData();\n    /* const transformedData:IClass[] = classData.data.map((item)=>{return {id:item.id, name:item.name, description:item.description, startDate:item.startDate, \n      endDate: item.endDate,\n      students:item.students,\n    teacher:item.teacher}});*/\n    dispatch(classesActions.replaceClasses(classData.data || []));\n  } catch (error: unknown) {\n    if (error instanceof AxiosError) {\n      if (error.response?.data) {\n        throw new Error(error.response.data.message);\n      } else {\n        throw new Error(error.message);\n      }\n    }\n  }\n};\n"],"mappings":"AAAA,SAASA,UAAT,QAA0C,OAA1C;AAGA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,cAAT,QAA+B,iBAA/B;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM,MAAOC,QAAP,IAAiC;EACnE,MAAMC,SAAS,GAAG,YAA8C;IAC9D,MAAMC,QAAQ,GAAG,MAAML,OAAO,CAACM,aAAR,EAAvB;;IACA,IAAI,CAACD,QAAL,EAAe;MACb,MAAM,IAAIE,KAAJ,CAAU,0BAAV,CAAN;IACD;;IACD,OAAOF,QAAP;EACD,CAND;;EAOA,IAAI;IACF,MAAMG,SAAS,GAAG,MAAMJ,SAAS,EAAjC;IACA;AACJ;AACA;AACA;;IACID,QAAQ,CAACF,cAAc,CAACQ,cAAf,CAA8BD,SAAS,CAACE,IAAV,IAAkB,EAAhD,CAAD,CAAR;EACD,CAPD,CAOE,OAAOC,KAAP,EAAuB;IACvB,IAAIA,KAAK,YAAYZ,UAArB,EAAiC;MAAA;;MAC/B,uBAAIY,KAAK,CAACN,QAAV,4CAAI,gBAAgBK,IAApB,EAA0B;QACxB,MAAM,IAAIH,KAAJ,CAAUI,KAAK,CAACN,QAAN,CAAeK,IAAf,CAAoBE,OAA9B,CAAN;MACD,CAFD,MAEO;QACL,MAAM,IAAIL,KAAJ,CAAUI,KAAK,CAACC,OAAhB,CAAN;MACD;IACF;EACF;AACF,CAxBM"},"metadata":{},"sourceType":"module"}