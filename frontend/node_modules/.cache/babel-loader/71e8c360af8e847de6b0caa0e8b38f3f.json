{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { AxiosError } from 'axios';\nimport api from '../services/api';\n\nconst useAxios = axiosParams => {\n  _s();\n\n  const [response, setResponse] = useState();\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const fetchData = useCallback(async params => {\n    setLoading(true);\n    console.log(params);\n\n    try {\n      const result = await api.request(params);\n      setResponse(result);\n\n      if (result.statusText !== 'OK') {\n        const {\n          response\n        } = result.data;\n        setError(response.errorMessage);\n      }\n    } catch (error) {\n      setLoading(false);\n\n      if (error instanceof AxiosError) {\n        var _error$response;\n\n        if ((_error$response = error.response) !== null && _error$response !== void 0 && _error$response.data) {\n          setError(error.response.data.message);\n        } else if (error.message) {\n          setError(error.message);\n        }\n      } else {\n        setError('Something went wrong!');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const sendData = () => {\n    fetchData(axiosParams);\n  };\n\n  useEffect(() => {\n    if (axiosParams.method === 'GET' || axiosParams.method === 'get') {\n      fetchData(axiosParams);\n    }\n  }, [axiosParams, fetchData]);\n  return {\n    response,\n    error,\n    loading,\n    sendData\n  };\n};\n\n_s(useAxios, \"abxz/leZ4oPvQkI9r+Ls1zsLpsM=\");\n\nexport default useAxios;","map":{"version":3,"names":["useState","useEffect","useCallback","AxiosError","api","useAxios","axiosParams","response","setResponse","error","setError","loading","setLoading","fetchData","params","console","log","result","request","statusText","data","errorMessage","message","sendData","method"],"sources":["C:/Users/Utilizador/OneDrive/Ambiente de Trabalho/SchoolApplication/frontend/src/hooks/use-axios.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios';\nimport api from '../services/api';\n\nconst useAxios = (axiosParams: AxiosRequestConfig) => {\n  const [response, setResponse] = useState<AxiosResponse>();\n  const [error, setError] = useState<string>('');\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = useCallback(async (params: AxiosRequestConfig) => {\n    setLoading(true);\n    console.log(params);\n    try {\n      const result = await api.request(params);\n      setResponse(result);\n      if (result.statusText !== 'OK') {\n        const { response } = result.data;\n        setError(response.errorMessage);\n      }\n    } catch (error) {\n      setLoading(false);\n      if (error instanceof AxiosError) {\n        if (error.response?.data) {\n          setError(error.response.data.message);\n        } else if (error.message) {\n          setError(error.message);\n        }\n      } else {\n        setError('Something went wrong!');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const sendData = () => {\n    fetchData(axiosParams);\n  };\n\n  useEffect(() => {\n    if (axiosParams.method === 'GET' || axiosParams.method === 'get') {\n      fetchData(axiosParams);\n    }\n  }, [axiosParams, fetchData]);\n\n  return {\n    response,\n    error,\n    loading,\n    sendData,\n  };\n};\n\nexport default useAxios;\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;AACA,SAASC,UAAT,QAA8D,OAA9D;AACA,OAAOC,GAAP,MAAgB,iBAAhB;;AAEA,MAAMC,QAAQ,GAAIC,WAAD,IAAqC;EAAA;;EACpD,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,EAAxC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAS,EAAT,CAAlC;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;EAEA,MAAMa,SAAS,GAAGX,WAAW,CAAC,MAAOY,MAAP,IAAsC;IAClEF,UAAU,CAAC,IAAD,CAAV;IACAG,OAAO,CAACC,GAAR,CAAYF,MAAZ;;IACA,IAAI;MACF,MAAMG,MAAM,GAAG,MAAMb,GAAG,CAACc,OAAJ,CAAYJ,MAAZ,CAArB;MACAN,WAAW,CAACS,MAAD,CAAX;;MACA,IAAIA,MAAM,CAACE,UAAP,KAAsB,IAA1B,EAAgC;QAC9B,MAAM;UAAEZ;QAAF,IAAeU,MAAM,CAACG,IAA5B;QACAV,QAAQ,CAACH,QAAQ,CAACc,YAAV,CAAR;MACD;IACF,CAPD,CAOE,OAAOZ,KAAP,EAAc;MACdG,UAAU,CAAC,KAAD,CAAV;;MACA,IAAIH,KAAK,YAAYN,UAArB,EAAiC;QAAA;;QAC/B,uBAAIM,KAAK,CAACF,QAAV,4CAAI,gBAAgBa,IAApB,EAA0B;UACxBV,QAAQ,CAACD,KAAK,CAACF,QAAN,CAAea,IAAf,CAAoBE,OAArB,CAAR;QACD,CAFD,MAEO,IAAIb,KAAK,CAACa,OAAV,EAAmB;UACxBZ,QAAQ,CAACD,KAAK,CAACa,OAAP,CAAR;QACD;MACF,CAND,MAMO;QACLZ,QAAQ,CAAC,uBAAD,CAAR;MACD;IACF,CAlBD,SAkBU;MACRE,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CAxB4B,EAwB1B,EAxB0B,CAA7B;;EA0BA,MAAMW,QAAQ,GAAG,MAAM;IACrBV,SAAS,CAACP,WAAD,CAAT;EACD,CAFD;;EAIAL,SAAS,CAAC,MAAM;IACd,IAAIK,WAAW,CAACkB,MAAZ,KAAuB,KAAvB,IAAgClB,WAAW,CAACkB,MAAZ,KAAuB,KAA3D,EAAkE;MAChEX,SAAS,CAACP,WAAD,CAAT;IACD;EACF,CAJQ,EAIN,CAACA,WAAD,EAAcO,SAAd,CAJM,CAAT;EAMA,OAAO;IACLN,QADK;IAELE,KAFK;IAGLE,OAHK;IAILY;EAJK,CAAP;AAMD,CA/CD;;GAAMlB,Q;;AAiDN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}