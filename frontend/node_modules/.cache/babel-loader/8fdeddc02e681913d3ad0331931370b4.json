{"ast":null,"code":"import { AxiosError } from 'axios';\nimport { Service } from '../services/Service';\nimport { replaceStudents } from './redux-slice';\nexport const fetchUsersData = () => async dispatch => {\n  const fetchData = async () => {\n    const response = await Service.getAllUsers();\n\n    if (!response) {\n      throw new Error('Could not fetch users!');\n    }\n\n    return response;\n  };\n\n  try {\n    const {\n      data\n    } = await fetchData();\n    dispatch(replaceStudents(data));\n  } catch (error) {\n    if (error instanceof AxiosError) {\n      var _error$response;\n\n      if ((_error$response = error.response) !== null && _error$response !== void 0 && _error$response.data) {\n        throw new Error(error.response.data.message);\n      } else {\n        throw new Error(error.message);\n      }\n    }\n  }\n};","map":{"version":3,"names":["AxiosError","Service","replaceStudents","fetchUsersData","dispatch","fetchData","response","getAllUsers","Error","data","error","message"],"sources":["C:/Users/Utilizador/OneDrive/Ambiente de Trabalho/SchoolApplication/frontend/src/store/usersActions.ts"],"sourcesContent":["import { AxiosError, AxiosResponse } from 'axios';\nimport { Service } from '../services/Service';\nimport { replaceStudents } from './redux-slice';\nimport { AppDispatch } from '.';\nimport { IUser } from '../interfaces/IUser';\n\nexport const fetchUsersData = () => async (dispatch: AppDispatch) => {\n  const fetchData = async (): Promise<AxiosResponse<IUser[]>> => {\n    const response = await Service.getAllUsers();\n    if (!response) {\n      throw new Error('Could not fetch users!');\n    }\n    return response;\n  };\n\n  try {\n    const { data } = await fetchData();\n    dispatch(replaceStudents(data));\n  } catch (error: unknown) {\n    if (error instanceof AxiosError<Error>) {\n      if (error.response?.data) {\n        throw new Error(error.response.data.message);\n      } else {\n        throw new Error(error.message);\n      }\n    }\n  }\n};\n"],"mappings":"AAAA,SAASA,UAAT,QAA0C,OAA1C;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,eAAT,QAAgC,eAAhC;AAIA,OAAO,MAAMC,cAAc,GAAG,MAAM,MAAOC,QAAP,IAAiC;EACnE,MAAMC,SAAS,GAAG,YAA6C;IAC7D,MAAMC,QAAQ,GAAG,MAAML,OAAO,CAACM,WAAR,EAAvB;;IACA,IAAI,CAACD,QAAL,EAAe;MACb,MAAM,IAAIE,KAAJ,CAAU,wBAAV,CAAN;IACD;;IACD,OAAOF,QAAP;EACD,CAND;;EAQA,IAAI;IACF,MAAM;MAAEG;IAAF,IAAW,MAAMJ,SAAS,EAAhC;IACAD,QAAQ,CAACF,eAAe,CAACO,IAAD,CAAhB,CAAR;EACD,CAHD,CAGE,OAAOC,KAAP,EAAuB;IACvB,IAAIA,KAAK,YAAYV,UAArB,EAAwC;MAAA;;MACtC,uBAAIU,KAAK,CAACJ,QAAV,4CAAI,gBAAgBG,IAApB,EAA0B;QACxB,MAAM,IAAID,KAAJ,CAAUE,KAAK,CAACJ,QAAN,CAAeG,IAAf,CAAoBE,OAA9B,CAAN;MACD,CAFD,MAEO;QACL,MAAM,IAAIH,KAAJ,CAAUE,KAAK,CAACC,OAAhB,CAAN;MACD;IACF;EACF;AACF,CArBM"},"metadata":{},"sourceType":"module"}